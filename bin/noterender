#!/usr/bin/env python
"""
Usage:
    noterender --src=<path> --dst=<dir>
    noterender one --src=<path> --dst=<dir>
    noterender (-h | --help)

Options:
    --src=<path>    Source path/file (for rendering one)
    --dst=<dir>     Output directory
    -h --help       Shows this page
"""


import docopt
from path import Path
from noterender import render_directory, render_file


def main():
    args = docopt.docopt(__doc__)
    src = Path(args['--src'])
    dst = Path(args['--dst'])
    dst.mkdir_p()

    if args['one']:
        return render_file(src, dst)

    assert src.isdir()
    render_directory(src, dst)


if __name__ == '__main__':
    main()
